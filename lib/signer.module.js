import e from"node-fetch";import{TypedDataUtils as t,SignTypedDataVersion as o}from"@metamask/eth-sig-util";import{arrayify as n,joinSignature as s,splitSignature as r,concat as i}from"@ethersproject/bytes";import{createTxRaw as c}from"@tharsis/proto";import{signatureToWeb3Extension as a,createTxRawEIP712 as m}from"@tharsis/transactions";const u=function(e,r,i,c=d,u="BROADCAST_MODE_BLOCK"){try{const h=n(t.eip712Hash(i.eipToSign,o.V4));return Promise.resolve(e._signingKey().signDigest(h)).then(function(e){const t=s(e),o=a(c,{accountAddress:r},t);return`{ "tx_bytes": [${m(i.legacyAmino.body,i.legacyAmino.authInfo,o).message.serializeBinary().toString()}], "mode": "${u}" }`})}catch(e){return Promise.reject(e)}},h=function(e,t,o="BROADCAST_MODE_BLOCK"){try{const s=`0x${Buffer.from(t.signDirect.signBytes,"base64").toString("hex")}`,a=e._signingKey().signDigest(s),m=r(a),u=n(i([m.r,m.s])),h=`{ "tx_bytes": [${c(t.signDirect.body.serializeBinary(),t.signDirect.authInfo.serializeBinary(),[u]).message.serializeBinary().toString()}], "mode": "${o}" }`;return Promise.resolve(h)}catch(e){return Promise.reject(e)}},g=function(t,o="http://127.0.0.1:1317"){try{return Promise.resolve(e(`${o}/cosmos/tx/v1beta1/txs`,{method:"post",body:t,headers:{"Content-Type":"application/json"}})).then(function(e){return Promise.resolve(e.json())})}catch(e){return Promise.reject(e)}},y=function(t,o="http://127.0.0.1:1317"){try{return Promise.resolve(e(`${o}/cosmos/auth/v1beta1/accounts/${t}`)).then(function(e){return Promise.resolve(e.json()).then(function(e){return{accountAddress:t,sequence:parseInt(e.account.base_account.sequence,10),accountNumber:parseInt(e.account.base_account.account_number,10),pubkey:e.account.base_account.pub_key.key}})})}catch(e){return Promise.reject(e)}},d={chainId:9e3,cosmosChainId:"evmos_9000-1"},p={amount:"20",denom:"aevmos",gas:"200000"},f={chainId:9001,cosmosChainId:"evmos_9001-2"},b={amount:"5000",denom:"aevmos",gas:"600000"},_={chainId:9001,cosmosChainId:"evmos_9001-2"},l={amount:"5000",denom:"atevmos",gas:"600000"};export{d as LOCALNET_CHAIN,p as LOCALNET_FEE,f as MAINNET_CHAIN,b as MAINNET_FEE,_ as TESTNET_CHAIN,l as TESTNET_FEE,g as broadcast,y as getSender,h as signTransaction,u as singTransactionUsingEIP712};
//# sourceMappingURL=signer.module.js.map
